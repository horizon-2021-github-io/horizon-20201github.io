!function(e,o){"function"==typeof define&&define.amd?define(["exports"],o):o("undefined"!=typeof exports?exports:e.dragscroll={})}(this,function(e){var o,t,a=window,i=document,n="mousemove",s="mouseup",l="mousedown",r="EventListener",d="add"+r,c="remove"+r,f=[],h=function(e,r){for(e=0;e<f.length;)r=f[e++],r=r.container||r,r[c](l,r.md,0),a[c](s,r.mu,0),a[c](n,r.mm,0);for(f=[].slice.call(i.getElementsByClassName("dragscroll")),e=0;e<f.length;)!function(e,r,c,f,h,p){(p=e.container||e)[d](l,p.md=function(o){e.hasAttribute("nochilddrag")&&i.elementFromPoint(o.pageX,o.pageY)!=p||(f=1,r=o.clientX,c=o.clientY,o.preventDefault())},0),a[d](s,p.mu=function(){f=0},0),a[d](n,p.mm=function(a){f&&((h=e.scroller||e).scrollLeft-=o=-r+(r=a.clientX),h.scrollTop-=t=-c+(c=a.clientY),e==i.body&&((h=i.documentElement).scrollLeft-=o,h.scrollTop-=t))},0)}(f[e++])};"complete"==i.readyState?h():a[d]("load",h,0),e.reset=h}),function(e,o){o.behaviors.horizon={attach:function(t,a){e(".pager--infinite-scroll .pager__item a").addClass("btn btn-default");var i=!a.currentUser,n=!1,s=e("#favourites-modal");e("#favourites-counter").is(":empty")&&e("#nav-favourites").addClass("is-empty").removeClass("not-empty"),e("a.flag").on("click tap press",function(t){e.ajax({url:o.settings.basePath+"views/ajax",type:"POST",dataType:"json",data:"view_name=favourites&view_display_id=block_counter",success:function(o){i&&!n&&s.modal();var t=o[1].data;e("#favourites-counter").replaceWith(t),e("#nav-favourites").removeClass("is-empty"),e("#favourites-counter").is(":empty")&&e("#nav-favourites").addClass("is-empty").removeClass("not-empty")},error:function(e){console.log("error occurred")}})}),e(document).bind("flagGlobalAfterLinkUpdate",function(o,t){var a=e("#node-"+t.contentId+" .favourite a"),i=a.find(".flag-description");a.hasClass("flagged")?(i.html(i.html().replace(/Add/g,"Saved")),a.find(".icon").addClass("fas text-highlight").removeClass("far")):(i.html(i.html().replace(/Saved/g,"Add")),a.find(".icon").addClass("far").removeClass("fas"))}),s.find(".no-thanks").on("click tap press",function(e){s.modal("hide")}),o.settings.facebookPopup&&!n&&s.modal(),s.on("hidden.bs.modal",function(){n=!0}),e(".mobile-search button").html('<i class="fas fa-search"></i>'),e(".mobile-search .form-text").attr("placeholder","Search")}},o.behaviors.horizon_forms={attach:function(o,t){var a=e("#mailing-list-signup-modal form");a.attr("id",a.attr("id")+"--modal"),a.find("input").each(function(o){e(this).attr("id",e(this).attr("id")+"--modal")}),a.find("label").each(function(o){e(this).attr("for",e(this).attr("for")+"--modal")});var i=e(".webform-client-form-32");e(".webform-component-checkboxes label",i);e(".form-type-bef-checkbox label",o).once("bef-checkbox-pretty-checkbox",function(){e(this).prepend("<span></span>")}),e(".webform-client-form .webform-component-checkboxes .form-checkboxes",o).once("pretty-checkbox",function(){e(this).children().each(function(){e(this).find("input").prependTo(e(this).find(".form-type-checkbox")),e(this).find("label").prepend("<span></span")})}),e(".webform-client-form .form-item [id]").each(function(){if(this.id.includes("edit-submitted")){var o=Math.random().toString(36).substr(2,5),t=this.id,a=t.replace("edit-submitted","el")+"-"+o;e('[id="'+this.id+'"]:gt(0)').attr("data-id",a)}}),e(".webform-client-form .form-item [data-id]").each(function(){e(this).attr("id",e(this).attr("data-id")),e(this).siblings("label").attr("for",e(this).attr("data-id"))});var n=e(".view-events .view-filters"),s=e(".calendar-date",n),l=e("#edit-field-event-date-value-value-wrapper").find("input.date-date");s.on("click tap press",function(o){var t=e("#edit-field-event-date-value-value-wrapper").find("input.date-date");s.removeClass("selected"),e(this).addClass("selected"),t.val(e(this).attr("data-value")).change()}),s.each(function(o){e(this).removeClass("selected"),l.val()==e(this).attr("data-value")&&e(this).addClass("selected")}),e(".view-events .view-filters",o).once("event-filters",function(){var o=e(".form-checkboxes.bef-select-all-none.bef-processed, .form-checkboxes.bef-required-filter-processed",n);if(o.length){o.removeClass("form-control form-checkboxes");e(".bef-checkboxes label.option",o).each(function(o,t){var a=e(this).prev().val(),i=e(this).text().replace(/\s+/g,"-").toLowerCase();i=i.replace(",","").replace("&",""),e(this).addClass("label--"+a),e(this).addClass("label label--"+i)})}e(".views-exposed-widgets #edit-reset",n).removeClass("btn-primary"),e(".views-exposed-widgets #edit-reset",n).on("click tap press",function(e){})})}};var t={common:{init:function(){function o(){e("#notifications-banner").length>0&&(e("#notifications-banner").hasClass("fixed-bottom")?e("body").css("padding-bottom",e("#notifications-banner").outerHeight()):e("body").css("padding-top",e("#notifications-banner").outerHeight()))}function t(){e("body.not-front").css("padding-top",e("#alertSignUp").outerHeight()+e("#header").height()),e("body.front").css("padding-top",e("#alertSignUp").outerHeight()),e(".offcanvas-collapse").css("top",e("#alertSignUp").outerHeight()+e("#header").height())}o(),t(),e(window).resize(function(){o(),t()}),e(".form-type-radio, .form-type-checkbox").addClass("form-check"),e(".form-type-radio input, .form-type-checkbox input").addClass("form-check-input"),e(".form-type-radio label, .form-type-checkbox input").addClass("form-check-label"),e(".node-event-teaser, .node-artist-teaser").matchHeight({byRow:!1}),e(".view-search-api .node-teaser").matchHeight({byRow:!1}),e(document).ajaxSuccess(function(){e(".node-event-teaser, .node-artist-teaser").matchHeight({byRow:!1}),e(".view-search-api .node-teaser").matchHeight({byRow:!1})});var a=e("#navbar-toggler");e("body.front").css("padding-top",e("#alertSignUp").outerHeight()),e("body.not-front").css("padding-top",e("#alertSignUp").outerHeight()+e("#header").height()),e(".offcanvas-collapse").css("top",e("#alertSignUp").outerHeight()+e("#header").height()),e('[data-toggle="offcanvas"]').on("click tap press",function(o){e(".offcanvas-collapse").toggleClass("open"),a.toggleClass("collapsed"),e("body").toggleClass("modal-open"),e("#collapseSignUp").collapse("hide")}),e(".umbrella-list li:not(:first-child) a").addClass("btn btn-nav"),e('[data-toggle="tooltip"]').tooltip(),e(".pager--infinite-scroll .pager__item a").addClass("btn btn-info"),e(".teaser-card .image img:not(.replace-as-bg)").each(function(o,t){var a=e(this).attr("src");e(this).closest(".teaser-block").css({"background-image":'url("'+a+'")',"background-size":"cover"}),e(this).hide()}),e(".field-type-video-embed-field .embedded-video").addClass("embed-responsive embed-responsive-16by9").find("iframe").addClass("embed-responsive-item"),e(".teaser-card, .go-to-first-link").css("cursor","pointer").on("click tap press",function(o){if("I"===o.target.nodeName)return!1;var t=e(this).find("a:not(.flag)").attr("href");return o.preventDefault(),t.length>0&&(window.location=t),!1}),e("#homepage-sign-up-block").css("cursor","pointer").on("click tap press",function(o){e("#mailing-list-signup-modal").modal("show")}),e(".node .sidebar .details .icon").css("cursor","pointer").on("click tap press",function(o){o.preventDefault();var t=e(this).next("a").attr("href");return t.length>0&&(window.location=t),!1}),e('a[href*="#"]').not('[data-toggle="collapse"]').not('[href="#"]').not('[href="#0"]').click(function(o){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=e(this.hash);t=t.length?t:e("[name="+this.hash.slice(1)+"]"),t.length&&(o.preventDefault(),e("html, body").animate({scrollTop:t.offset().top},1e3,function(){var o=e(t);if(o.focus(),o.is(":focus"))return!1;o.attr("tabindex","-1"),o.focus()}))}})},finalize:function(){if(e(".field-name-field-button-link a").addClass("btn"),e(".field-name-field-button-link a:not(.btn-black)").addClass("btn-primary"),$aoc=e("#aoc-modal"),$aoc.length>0&&($aoc.on("hidden.bs.modal",function(){Cookies.set("horizon_show_aoc","hide")}),void 0===Cookies.get("horizon_show_aoc")&&Cookies.set("horizon_show_aoc",!0),"hide"==Cookies.get("horizon_show_aoc")?$aoc.modal("hide"):$aoc.modal("show")),$signupAlert=e("#alertSignUp"),$signupAlert.length>0){var o=$signupAlert.hasClass("alert-dismissible");$signupAlert.on("closed.bs.alert",function(){o&&Cookies.set("horizon_show_signup","hide"),e("#header").css("top",0),e(".offcanvas-collapse").css("top",e("#header").height()),e("body.front").css("padding-top",0),e("body.not-front").css("padding-top",e("#header").outerHeight()),e("body").addClass("alert-has-been-closed")}),e("#collapseSignUp").on("hidden.bs.collapse",function(){e("#alertSignUp").css("position","fixed")}).on("shown.bs.collapse",function(){e("#alertSignUp").css("position","absolute")}),o&&void 0===Cookies.get("horizon_show_signup")&&Cookies.set("horizon_show_signup",!0),o&&"hide"==Cookies.get("horizon_show_signup")?e("#alertSignUp").alert("close"):e("#alertSignUp").slideDown("fast",function(){e(".offcanvas-collapse").css("top",$signupAlert.outerHeight()+e("#header").height()),e("#header").css("top",e("#alertSignUp").outerHeight())})}window.sr=ScrollReveal(),window.sr.reveal(".reveal")}},front:{init:function(){function o(){var o=e(window).scrollTop(),t=e(".front #header");o>t.height()+e(".layout-hero").height()?(t.removeClass("theme-transparent").addClass("theme-default"),t.find(".logo-white").addClass("d-none").removeClass("d-block"),t.find(".logo-black").addClass("d-block").removeClass("d-none")):(t.removeClass("theme-default").addClass("theme-transparent"),t.find(".logo-white").addClass("d-block").removeClass("d-none"),t.find(".logo-black").addClass("d-none").removeClass("d-block"))}function t(){var o=e("#splash-video");if(!(o.length<=0)){e(window).width()<800?o.append("<source src='/sites/all/themes/melon/videos/horizon-2021-med.mp4' playsinline muted autoplay type='video/mp4' >"):o.append("<source src='/sites/all/themes/melon/videos/horizon-2021-hi.mp4'  playsinline muted autoplay type='video/mp4' >")}}console.log("Welcome to Horizon Festival"),e("#block-views-events-block-2 .node-event-teaser, .node-artist-teaser").matchHeight({byRow:!0}),e("#block-views-events-block-2 .view-search-api .node-teaser").matchHeight({byRow:!1}),e(window).scroll(function(){o()}),t(),e("#splash-video").get(0).play(),e(window).resize(function(){t()})}},page_node_1217:{init:function(){function o(){var o=e(window).scrollTop(),t=e("#header");o>e(window).height()?(t.removeClass("theme-transparent").addClass("theme-default"),t.find(".logo-white").addClass("d-none").removeClass("d-block"),t.find(".logo-black").addClass("d-block").removeClass("d-none")):(t.removeClass("theme-default").addClass("theme-transparent"),t.find(".logo-white").addClass("d-block").removeClass("d-none"),t.find(".logo-black").addClass("d-none").removeClass("d-block"))}console.log("Final Call"),e(window).scroll(function(){o()})}},node_type_event:{init:function(){console.log("event!"),e(".carousel-video-modal").detach().appendTo("body"),e(".carousel-video-modal").on("hide.bs.modal",function(o){e(".carousel-video-modal iframe")[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),e(".field-name-field-hero-carousel").slick({centerMode:!0,infinite:!0,variableWidth:!0,lazyLoad:"ondemand",slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:"<button type='button' class='slick-prev pull-left'><i class='fal fa-angle-left' aria-hidden='true'></i></button>",nextArrow:"<button type='button' class='slick-next pull-right'><i class='fal fa-angle-right' aria-hidden='true'></i></button>",responsive:[{breakpoint:576,settings:{centerMode:!1,variableWidth:!1,slidesToShow:1,slidesToScroll:1}}]})}}},a={fire:function(e,o,a){var i,n=t;o=void 0===o?"init":o,i=""!==e,i=i&&n[e],(i=i&&"function"==typeof n[e][o])&&n[e][o](a)},loadEvents:function(){a.fire("common"),e.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(e,o){a.fire(o),a.fire(o,"finalize")}),a.fire("common","finalize"),console.log("Welcome to the Archive of Horizon Festival 2021"),e("body.node-type-event .field-name-field-hero-carousel").slick({centerMode:!0,infinite:!0,variableWidth:!0,lazyLoad:"ondemand",slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:"<button type='button' class='slick-prev pull-left'><i class='fal fa-angle-left' aria-hidden='true'></i></button>",nextArrow:"<button type='button' class='slick-next pull-right'><i class='fal fa-angle-right' aria-hidden='true'></i></button>",responsive:[{breakpoint:576,settings:{centerMode:!1,variableWidth:!1,slidesToShow:1,slidesToScroll:1}}]}),e("#block-views-hero-block-3 .home-carousel").slick({centerMode:!1,infinite:!0,variableWidth:!1,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:"<button type='button' class='slick-prev pull-left'><i class='fal fa-angle-left' aria-hidden='true'></i></button>",nextArrow:"<button type='button' class='slick-next pull-right'><i class='fal fa-angle-right' aria-hidden='true'></i></button>"})}};e(document).ready(a.loadEvents)}(jQuery,Drupal);
//# sourceMappingURL=main.js.map
